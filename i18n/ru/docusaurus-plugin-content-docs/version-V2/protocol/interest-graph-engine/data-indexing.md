---
id: data-indexing
title: Индексирование данных
slug: /protocol/interest-graph-engine/data-indexing
sidebar_label: Индексирование данных
sidebar_position: 1
description: Индексирование данных
---

В нашей системе индексации есть три источника данных: блокчейны (например, Ethereum, Solana, BNB Chain), децентрализованные хранилища (например, IPFS, Arweave) и off-chain платформы (например, Foundation, Rarible, Twitter). Ее общая философия заключается в индексировании данных, которые потенциально могут быть повторно использованы в различных социальных контекстах. Например, данные о связях на существующих платформах, таких как Foundation, токен POAP для каждого адреса.

Индексация данных состоит из трех компонентов: обработки данных, агрегирования данных и запросов к данным.

## Процессор данных

Процессор подключается к различным полным узлам блокчейна (например, ETH, Solana) для просмотра данных о событиях контракта в режиме реального времени и выполнения заданий cron для регулярного извлечения данных из off-chain социальных платформ (например, Twitter, Context, Foundation). Он хранит эту индексированную информацию в виде структурированных данных в реляционных базах данных, таких как MySQL и PostgreSQL. Эти данные индексируются для долгосрочного постоянного хранения, чтобы избежать потерь на повторную обработку.

## Агрегатор данных

Трудно запрашивать данные с высокой степенью разделения в социальном графе с реляционной базой данных и системами, построенными поверх. Одним из способов достижения этой цели является использование операций непрерывного соединения в реляционных базах данных, но это работает лишь в ограниченной степени и приводит к огромным потерям производительности.

Агрегатор объединяет структурированные данные из реляционных баз данных в графовое представление и сохраняет эти агрегированные данные в графовых базах данных, таких как Neo4j и DGraph. Хранение данных в графовой базе данных предоставляет разработчикам больше возможностей для запросов и делает возможным анализ данных на основе графов и рекомендаций.

В будущих исследованиях могут быть внедрены различные схемы агрегирования, основанные на постоянных данных, хранящихся на первом этапе обработки данных. Агрегаторы данных также должны обслуживать интерфейс запросов. Технически один сервер мог бы выполнять задачи как процессора данных, так и агрегатора данных.

## Запрос данных

Средство запроса служит трем основным целям: предоставляет идентификационные данные, предоставляет данные о взаимоотношениях и рекомендациях. Он извлекает данные из графовых баз данных, получает результаты рекомендаций от рекомендателя и возвращает данные запрошенным способом.

## Архитектура

![indexerv2](/img/v2/indexerv2.png)
